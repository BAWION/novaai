# Исправление проблем с доменом и API на Vercel

## Что я обнаружил

1. Основной домен `nova-alpha-seven.vercel.app` недоступен, но временный домен работает
2. На странице логина:
   - Отсутствует форма входа по почте/паролю
   - Наблюдаются ошибки 404 при запросах к API
   - Проблемы с загрузкой manifest.json

## Комплексное решение

Я создал архив `vercel-full-fix.zip`, содержащий три ключевых файла:

1. **vercel.json** — упрощенная конфигурация с правильной маршрутизацией:
   - Перенаправление API запросов на Replit
   - Дополнительное правило для внутренней маршрутизации SPA

2. **manifest.json** — исправленный файл манифеста:
   - Корректные настройки PWA
   - Правильная структура для избежания ошибок 

3. **index.html** — улучшенная версия с:
   - Скрипт автоматического перенаправления с временного домена на основной
   - Скрипт для решения проблемы с 404 при обновлении страницы
   - Диагностический код для проверки доступности API

## Инструкция по применению

1. Скачайте архив `vercel-full-fix.zip` из проекта
2. Распакуйте его и добавьте все файлы в корень вашего GitHub репозитория
3. Выполните новый деплой на Vercel из GitHub
4. В Replit измените команду запуска на `node deploy-replit.cjs` (как описано ранее)

## Ожидаемый результат

- API запросы будут корректно перенаправляться
- Проблема с входом должна быть решена
- Временный домен будет автоматически перенаправлять на основной
- Манифест будет загружаться без ошибок
- Страница не будет показывать 404 при обновлении

## Проверка работоспособности

После деплоя выполните следующие проверки:

1. Откройте основной домен `nova-alpha-seven.vercel.app`
2. Проверьте консоль браузера — не должно быть ошибок 404
3. Попробуйте войти с демо-аккаунтом (admin13/54321)
4. Обновите страницу на произвольном маршруте — не должно выдавать 404

## Примечание о формах входа

Если форма входа по почте/паролю по-прежнему отсутствует, возможно потребуется проверить, какие изменения были внесены в компонент входа. В исходном коде (client/src/pages/login.tsx) обнаружена логика для обоих способов входа.