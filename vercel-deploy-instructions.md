# Пошаговая инструкция развертывания NovaAI University на Vercel

## Подготовка (5 минут)

### Шаг 1: Убедитесь, что проект готов
```bash
# Проверьте, что приложение работает локально
npm run dev
```

### Шаг 2: Соберите проект
```bash
npm run build
```

Должна появиться папка `dist` с собранными файлами.

## Установка и настройка Vercel (3 минуты)

### Шаг 3: Установите Vercel CLI
```bash
npm install -g vercel
```

### Шаг 4: Авторизуйтесь в Vercel
```bash
vercel login
```

Выберите способ входа (GitHub, GitLab, Bitbucket или email).

## Развертывание проекта (5 минут)

### Шаг 5: Инициализация проекта
```bash
vercel
```

Vercel задаст несколько вопросов:
- **"Set up and deploy?"** → Нажмите `Y`
- **"Which scope?"** → Выберите свой аккаунт
- **"Link to existing project?"** → Нажмите `N` (новый проект)
- **"What's your project's name?"** → `novaai-university` (или свое название)
- **"In which directory is your code located?"** → `.` (текущая папка)

### Шаг 6: Финальное развертывание
```bash
vercel --prod
```

Vercel создаст продакшн версию и выдаст URL вида `https://novaai-university.vercel.app`

## Настройка собственного домена (10 минут)

### Шаг 7: Добавьте домен в Vercel
1. Откройте https://vercel.com/dashboard
2. Найдите проект "novaai-university"
3. Перейдите в **Settings** → **Domains**
4. Нажмите **Add** и введите ваш домен: `ваш-домен.com`

### Шаг 8: Настройте DNS у регистратора домена
Зайдите в панель управления у вашего регистратора домена и добавьте запись:

**Для корневого домена (example.com):**
```
Type: A
Name: @
Value: 76.76.19.61
```

**Для www поддомена:**
```
Type: CNAME
Name: www
Value: cname.vercel-dns.com
```

**Альтернативный способ (проще):**
```
Type: CNAME
Name: @
Value: cname.vercel-dns.com
```

### Шаг 9: Дождитесь активации SSL
Vercel автоматически создаст SSL сертификат. Это занимает 5-15 минут.

## Настройка переменных окружения (5 минут)

### Шаг 10: Добавьте API ключи
1. В панели Vercel перейдите в **Settings** → **Environment Variables**
2. Добавьте переменные:

```
OPENAI_API_KEY = ваш_ключ_openai
ANTHROPIC_API_KEY = ваш_ключ_anthropic
NODE_ENV = production
```

### Шаг 11: Пересоберите проект
После добавления переменных:
```bash
vercel --prod
```

## Проверка работы (5 минут)

### Шаг 12: Тестирование
1. Откройте ваш домен в браузере
2. Проверьте, что загружается главная страница
3. Протестируйте вход в систему
4. Убедитесь, что Skills DNA диагностика работает
5. Проверьте каталог курсов

### Шаг 13: Проверьте API
Откройте браузер и проверьте:
- `ваш-домен.com/api/courses` - должен вернуть список курсов
- `ваш-домен.com/api/auth/me` - должен вернуть статус аутентификации

## Возможные проблемы и решения

### Проблема: API не работает
**Решение:** Убедитесь, что Replit приложение запущено и доступно по URL в `vercel.json`

### Проблема: Домен не работает
**Решение:** 
1. Проверьте DNS настройки (может занять до 48 часов)
2. Попробуйте очистить кэш DNS: `ipconfig /flushdns` (Windows) или `sudo dscacheutil -flushcache` (Mac)

### Проблема: SSL сертификат не создается
**Решение:** Подождите 30 минут, затем в настройках домена нажмите "Refresh"

## Автоматические обновления

### Настройка auto-deploy через Git
1. Подключите GitHub репозиторий в настройках Vercel
2. Каждый push в main ветку будет автоматически деплоить изменения

## Итоговая проверка

После завершения у вас должно быть:
- ✅ Домен работает с SSL
- ✅ Главная страница загружается
- ✅ API запросы проходят через Replit
- ✅ Авторизация работает
- ✅ Skills DNA функционирует

## Мониторинг

### В панели Vercel вы можете:
- Смотреть логи развертывания
- Отслеживать трафик
- Настраивать алерты
- Анализировать производительность

## Команды для управления

```bash
# Посмотреть все проекты
vercel ls

# Посмотреть логи
vercel logs

# Удалить развертывание
vercel rm deployment-url

# Обновить продакшн
vercel --prod
```

---

**Время выполнения:** 20-30 минут
**Результат:** Полностью рабочая платформа на вашем домене с SSL